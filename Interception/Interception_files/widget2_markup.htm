<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- saved from url=(0057)http://oblita.com//Interception_files/widget2_markup.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title></title></head><body marginwidth="0" marginheight="0"><script>
document.write('<style type="text/css">.gist-it-gist div, .gister-gist div {visibility: hidden;}</style>');
</script><style type="text/css">.gist-it-gist div, .gister-gist div {visibility: hidden;}</style>
<script src="main(1).cpp"></script><script type="text/javascript" src="prettify.js"></script><link rel="stylesheet" href="http://gist-it.appspot.com/assets/embed.css"><link rel="stylesheet" href="http://gist-it.appspot.com/assets/prettify/prettify.css"><div class="gister-gist">
<div class="gist-file">
    <div class="gist-data">
        <pre class="prettyprint"><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;interception.h&gt;</span><span class="pln"><br></span><span class="com">#include</span><span class="pln"> </span><span class="str">"utils.h"</span><span class="pln"><br><br></span><span class="kwd">enum</span><span class="pln"> </span><span class="typ">ScanCode</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; SCANCODE_ESC </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0x01</span><span class="pln"><br></span><span class="pun">};</span><span class="pln"><br><br></span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"><br></span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">InterceptionContext</span><span class="pln"> context</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">InterceptionDevice</span><span class="pln"> device</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="typ">InterceptionStroke</span><span class="pln"> stroke</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; <br>&nbsp; &nbsp; raise_process_priority</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; <br>&nbsp; &nbsp; context </span><span class="pun">=</span><span class="pln"> interception_create_context</span><span class="pun">();</span><span class="pln"><br>&nbsp; &nbsp; <br>&nbsp; &nbsp; interception_set_filter</span><span class="pun">(</span><span class="pln">context</span><span class="pun">,</span><span class="pln"> interception_is_keyboard</span><span class="pun">,</span><span class="pln"> INTERCEPTION_FILTER_KEY_DOWN </span><span class="pun">|</span><span class="pln"> INTERCEPTION_FILTER_KEY_UP</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; interception_set_filter</span><span class="pun">(</span><span class="pln">context</span><span class="pun">,</span><span class="pln"> interception_is_mouse</span><span class="pun">,</span><span class="pln"> INTERCEPTION_FILTER_MOUSE_MOVE</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">interception_receive</span><span class="pun">(</span><span class="pln">context</span><span class="pun">,</span><span class="pln"> device </span><span class="pun">=</span><span class="pln"> interception_wait</span><span class="pun">(</span><span class="pln">context</span><span class="pun">),</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">stroke</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">interception_is_mouse</span><span class="pun">(</span><span class="pln">device</span><span class="pun">))</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">InterceptionMouseStroke</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">mstroke </span><span class="pun">=</span><span class="pln"> </span><span class="pun">*(</span><span class="typ">InterceptionMouseStroke</span><span class="pln"> </span><span class="pun">*)</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">stroke</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pun">(!(</span><span class="pln">mstroke</span><span class="pun">.</span><span class="pln">flags </span><span class="pun">&amp;</span><span class="pln"> INTERCEPTION_MOUSE_MOVE_ABSOLUTE</span><span class="pun">))</span><span class="pln"> mstroke</span><span class="pun">.</span><span class="pln">y </span><span class="pun">*=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; interception_send</span><span class="pun">(</span><span class="pln">context</span><span class="pun">,</span><span class="pln"> device</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">stroke</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">interception_is_keyboard</span><span class="pun">(</span><span class="pln">device</span><span class="pun">))</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">{</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">InterceptionKeyStroke</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">kstroke </span><span class="pun">=</span><span class="pln"> </span><span class="pun">*(</span><span class="typ">InterceptionKeyStroke</span><span class="pln"> </span><span class="pun">*)</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">stroke</span><span class="pun">;</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; interception_send</span><span class="pun">(</span><span class="pln">context</span><span class="pun">,</span><span class="pln"> device</span><span class="pun">,</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">stroke</span><span class="pun">,</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">kstroke</span><span class="pun">.</span><span class="pln">code </span><span class="pun">==</span><span class="pln"> SCANCODE_ESC</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br>&nbsp; &nbsp; </span><span class="pun">}</span><span class="pln"><br><br>&nbsp; &nbsp; interception_destroy_context</span><span class="pun">(</span><span class="pln">context</span><span class="pun">);</span><span class="pln"><br><br>&nbsp; &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"><br></span><span class="pun">}</span></pre>
    </div>
    <div class="gist-meta">
        <span><a href="https://github.com/oblitum/Interception/blob/master/samples/axes/main.cpp" target="_top">This Gist</a> by <a href="http://gist-it.appspot.com/" target="_top">gist-it</a></span>
        <span style="float: right; color: #369;"><a href="https://github.com/oblitum/Interception/raw/master/samples/axes/main.cpp" target="_top">view raw</a></span>
        <span style="float: right; margin-right: 8px;">
            <a style="color: rgb(102, 102, 102);" href="https://github.com/oblitum/Interception/blob/master/samples/axes/main.cpp" target="_top">samples/axes/main.cpp</a></span>
            <!-- Generated by: http://gist-it.appspot.com -->
    </div>
</div>
</div><script type="text/javascript">prettyPrint();</script>
<script>
document.write('<link rel="stylesheet" href="http://google-code-prettify.googlecode.com/svn/trunk/styles/sunburst.css"/>');
document.write('<style type="text/css">.gist-it-gist .gist-file .gist-meta, .gister-gist .gist-file .gist-meta { font-size: 12px; background-color: transparent;}</style>');
document.write('<style type="text/css">.gist-it-gist .gist-file .gist-data, .gister-gist .gist-file .gist-data {background: transparent; border-bottom: none; font-size:12px;}</style>');
document.write('<style type="text/css">.gist-it-gist .gist-file .gist-data pre, .gister-gist .gist-file .gist-data pre {font-family: Consolas, "Courier New", Monaco, "DejaVu Sans Mono", monospace;}</style>');
document.write('<style type="text/css">.gist-it-gist div, .gister-gist div {visibility: visible;}</style>');
</script><link rel="stylesheet" href="http://google-code-prettify.googlecode.com/svn/trunk/styles/sunburst.css"><style type="text/css">.gist-it-gist .gist-file .gist-meta, .gister-gist .gist-file .gist-meta { font-size: 12px; background-color: transparent;}</style><style type="text/css">.gist-it-gist .gist-file .gist-data, .gister-gist .gist-file .gist-data {background: transparent; border-bottom: none; font-size:12px;}</style><style type="text/css">.gist-it-gist .gist-file .gist-data pre, .gister-gist .gist-file .gist-data pre {font-family: Consolas, "Courier New", Monaco, "DejaVu Sans Mono", monospace;}</style><style type="text/css">.gist-it-gist div, .gister-gist div {visibility: visible;}</style></body><link rel="stylesheet" type="text/css" href="data:text/css,"></html>